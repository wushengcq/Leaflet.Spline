<html>
<head>
	<title>Leaflet.js Cardinal Spline Test</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
	<meta HTTP-EQUIV="Cache-Control" CONTENT="no-cache"> 
	<meta HTTP-EQUIV="Expires" CONTENT="0"> 
 
	<!-- import Leaflet -->
    <link rel="stylesheet" 
		href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" 
		integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" 
		crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" 
		integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" 
		crossorigin=""></script>

	<script src="../src/Spline.js"></script>
<head>
<body onload="loadMap()">
	<div id="map" style="width:1000px;height:500px;background-color:#ffffff;"></div>
	<br>
	<div style='line-height:40px;'>
		<button onclick="drawSpline()">draw spline</button>
		<button onclick="drawPolyline()">draw polyline</button>
	</div>
	<script>
	var _map = null;

	function loadMap() {
		_map = L.map('map', {
			center: [30.557156, 106.577026],
	        zoom:5,
	        minZoom: 0,
	        maxZoom: 21,
	        markerZoomAnimation: false,
	        closePopupOnClick: false,
	        maxBounds: [[-90, -180],[90, 180]],
	        renderer: L.canvas()
		});

		L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
		    attribution: 'cartodb-basemaps',
	        subdomains: 'abcd',
			maxZoom: 19
		}).addTo(_map);

    }

	function drawSpline() {
		console.log("draw spline");
		var latlngs = [
            [30.661057, 104.081757], 
            [29.558176, 106.510338], 
            [28.200825, 112.98127],
            [30.567514, 114.291939], 
            [31.863255, 117.275703], 
            [31.106981, 121.37156] 
        ];
        var spline = L.spline(latlngs, {
            color: '#ff0000',
            weight: 10,
            opacity: 0.3,
        }).addTo(_map);
        //_map.fitBounds(spline.getBounds());
	}

	function drawPolyline() {
        var latlngs = [
            [30.661057, 104.081757], 
            [29.558176, 106.510338], 
            [28.200825, 112.98127],
            [30.567514, 114.291939], 
            [31.863255, 117.275703], 
            [31.106981, 121.37156] 
        ];
        var polyline = L.polyline(latlngs, {
            color: '#ffffff',
            weight: 2,
            opacity: 0.7,
        }).addTo(_map);
        //_map.fitBounds(polyline.getBounds());
    }

    </script>
</body>
</html>
